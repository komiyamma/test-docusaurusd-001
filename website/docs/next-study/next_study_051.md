# ç¬¬51ç« ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«CSSï¼šã©ã“ã«ç½®ãï¼ŸğŸŒ

ä»Šæ—¥ã¯ã€Œã‚¢ãƒ—ãƒªå…¨ä½“ã«åŠ¹ãCSSï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«CSSï¼‰ã€ã‚’ã€**ã©ã“ã«ç½®ã„ã¦ãƒ»ã©ã“ã§èª­ã¿è¾¼ã‚€ã®ãŒæ­£è§£ã‹**ã‚’ã‚¹ãƒƒã‚­ãƒªæ•´ç†ã™ã‚‹ã‚ˆã€œğŸ˜ŠğŸ’•

---

## ã‚´ãƒ¼ãƒ«ğŸ¯

* âœ… **ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã®ç½®ãå ´æ‰€**ãŒã‚ã‹ã‚‹ğŸ“
* âœ… **èª­ã¿è¾¼ã¿å ´æ‰€ï¼ˆimportã™ã‚‹å ´æ‰€ï¼‰**ãŒã‚ã‹ã‚‹ğŸ§©
* âœ… ã€Œå…¨éƒ¨ã«åŠ¹ã‹ã›ãŸã„ã€ã¨ã€Œä¸€éƒ¨ã ã‘å¤‰ãˆãŸã„ã€ã‚’ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹âœ¨

---

## 1) ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã£ã¦ãªã«ï¼ŸğŸŒğŸ§´

ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã¯ã€ã–ã£ãã‚Šè¨€ã†ã¨ **â€œã‚¢ãƒ—ãƒªå…¨ä½“ã«åŠ¹ããƒ«ãƒ¼ãƒ«â€** ã ã‚ˆğŸ˜Š
ãŸã¨ãˆã°ğŸ‘‡

* `body` ã®ä½™ç™½ã‚’ã‚¼ãƒ­ã«ã™ã‚‹
* ãƒ•ã‚©ãƒ³ãƒˆã‚’çµ±ä¸€ã™ã‚‹
* `a` ã®ä¸‹ç·šãƒ«ãƒ¼ãƒ«ã‚’çµ±ä¸€ã™ã‚‹
* CSSå¤‰æ•°ï¼ˆ`--color-...`ï¼‰ã‚’ç½®ã

ã“ã†ã„ã†ã€Œå…¨å“¡å…±é€šã®èº«ã ã—ãªã¿ã€ã¿ãŸã„ãªã‚‚ã®ğŸ‘—âœ¨

---

## 2) ã©ã“ã«ç½®ãï¼Ÿã©ã“ã§èª­ã¿è¾¼ã‚€ï¼ŸğŸ“â¡ï¸ğŸ“¥

### âœ… ç½®ãå ´æ‰€ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

åŸºæœ¬ã¯ **`app/globals.css`**ï¼ˆã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦ `app/global.css`ï¼‰ã¿ãŸã„ã«ã€`app/` ã®ç›´ä¸‹ã«ç½®ãã®ãŒå®šç•ªã ã‚ˆğŸ™†â€â™€ï¸âœ¨
Next.jså…¬å¼ã‚‚ **ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã‚’ä½œã£ã¦ã€ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§import** ã™ã‚‹å½¢ã‚’æ¡ˆå†…ã—ã¦ã‚‹ã‚ˆğŸ“Œ ([Next.js][1])

### âœ… èª­ã¿è¾¼ã‚€å ´æ‰€ï¼ˆimportã™ã‚‹å ´æ‰€ï¼‰

**`app/layout.tsx`ï¼ˆRootLayoutï¼‰** ã§èª­ã¿è¾¼ã¿ã¾ã™ğŸ˜Š
ï¼ˆã“ã“ãŒã€Œå…¨ãƒšãƒ¼ã‚¸å…±é€šã®å¤–æ ã€ã ã‹ã‚‰ã­ğŸ§±ï¼‰

---

### å›³ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ğŸ§ âœ¨ï¼ˆã©ã“ã§importï¼Ÿï¼‰

![ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã®é©ç”¨å›³](./picture/next_study_051_global_css.png)

```mermaid
flowchart TB
  subgraph APP["app/"]
    L["layout.tsxï¼ˆRootLayoutï¼‰ğŸ§±"]
    G["globals.cssï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«CSSï¼‰ğŸŒ"]
    P["page.tsx / å„ãƒ«ãƒ¼ãƒˆé…ä¸‹ã®ãƒšãƒ¼ã‚¸ãŸã¡ğŸ“„"]
  end

  L -->|"import"| G
  G -->|"å…¨ä½“ã«é©ç”¨"| P
```

---

## 3) å®Ÿè£…ã—ã¦ã¿ã‚ˆã†ğŸ’»ğŸ€ï¼ˆæœ€çŸ­ãƒ«ãƒ¼ãƒˆï¼‰

### Step 1ï¸âƒ£ `app/globals.css` ã‚’ç”¨æ„ã™ã‚‹ğŸ§´

ï¼ˆã™ã§ã«ã‚ã‚‹ãªã‚‰ç·¨é›†ã§OKâœ¨ï¼‰

```css
/* app/globals.css ğŸŒ */

:root {
  /* å…¨ä½“ã§ä½¿ã†â€œå…±é€šã®å¤‰æ•°â€ã‚’ç½®ãã¨ä¾¿åˆ©âœ¨ */
  --page-max: 980px;
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  line-height: 1.6;
}

main {
  max-width: var(--page-max);
  margin: 0 auto;
  padding: 24px;
}
```

### Step 2ï¸âƒ£ `app/layout.tsx` ã§importã™ã‚‹ğŸ“¥

```tsx
// app/layout.tsx
import "./globals.css";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ja">
      <body>{children}</body>
    </html>
  );
}
```

ã“ã‚Œã§ **å…¨ãƒšãƒ¼ã‚¸ã«åæ˜ **ã•ã‚Œã‚‹ã‚ˆã€œï¼ğŸ‰âœ¨
ã€ŒRootLayoutã§importã€ãŒåŸºæœ¬ã€ã£ã¦å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¼‰ã£ã¦ã‚‹ã‚ˆğŸ“Œ ([Next.js][1])

---

## 4) ã‚ˆãã‚ã‚‹ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆé›†ğŸ˜µâ€ğŸ’«ğŸ§¯

### ğŸ’¥ ãƒãƒã‚Šâ‘ ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã‚’â€œã‚ã¡ã“ã¡â€ã§importã—ã¦ã‚«ã‚ªã‚¹ã«ãªã‚‹

Next.jsã§ã¯ **`app/` é…ä¸‹ãªã‚‰ layout/page/component ã§ã‚‚importè‡ªä½“ã¯ã§ãã‚‹**ã‚“ã ã‘ã©ã€**ãƒ«ãƒ¼ãƒˆç§»å‹•ã—ã¦ã‚‚ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¤–ã‚Œãšæ®‹ã‚‹ã“ã¨ãŒã‚ã£ã¦ç«¶åˆã—ã‚„ã™ã„**ã®ã­ğŸ¥²
ã ã‹ã‚‰åŸºæœ¬ã¯ã€Œæœ¬å½“ã«å…¨ä½“ã«å¿…è¦ãªã‚‚ã®ã ã‘ã€ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã™ã‚‹ã®ãŒæ¨å¥¨ã ã‚ˆğŸ«¶ ([Next.js][1])

### ğŸ’¥ ãƒãƒã‚Šâ‘¡ï¼šã€ŒGlobal CSS must be in your Custom `<App>`ã€ã£ã¦æ€’ã‚‰ã‚Œã‚‹

ã“ã‚Œã¯ **Pages Routerï¼ˆ`pages/`ï¼‰ã®ãƒ«ãƒ¼ãƒ«**ã§å‡ºã‚‹ã“ã¨ãŒå¤šã„ã‚ˆï¼
ãã®å ´åˆã¯ `pages/_app.js` ã«é›†ç´„ã—ã¦ã­ã€ã£ã¦ã„ã†ã‚¨ãƒ©ãƒ¼ã€‚å…¬å¼ã®ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã‚‚ã‚ã‚‹ã‚ˆğŸ“Œ ([Next.js][2])
ï¼ˆä»Šå›ã®æ•™æã¯ App Router ãŒå‰æã ã‹ã‚‰ã€åŸºæœ¬ã¯ `app/layout.tsx` ã§OKâœ¨ï¼‰

### ğŸ’¥ ãƒãƒã‚Šâ‘¢ï¼šåŠ¹ã‹ãªã„ï¼ğŸ˜«

ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã¯ã“ã®3ã¤âœ…

* `layout.tsx` ã® import ãƒ‘ã‚¹ãŒåˆã£ã¦ã‚‹ï¼Ÿï¼ˆ`./globals.css`ï¼‰
* ãƒ•ã‚¡ã‚¤ãƒ«åãŒåˆã£ã¦ã‚‹ï¼Ÿï¼ˆ`globals.css` ã¨ `global.css` ã‚’æ··ãœãªã„ï¼‰
* ãŸã¾ã«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ã§ç›´ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ï¼ˆ`Ctrl + C` â†’ `npm run dev`ï¼‰ğŸ”

---

## 5) ã€Œä¸€éƒ¨ã ã‘è¦‹ãŸç›®å¤‰ãˆãŸã„ã€æ™‚ã¯ã©ã†ã™ã‚‹ï¼ŸğŸ§©âœ¨

ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã«ã€Œã“ã®ãƒšãƒ¼ã‚¸ã ã‘â€¦ã€ã‚’å¢—ã‚„ã—å§‹ã‚ã‚‹ã¨ã€ã‚ã¨ã§åœ°ç„ã«ãªã‚ŠãŒã¡ğŸ˜‡ğŸ’¦
**â€œä¸€éƒ¨ã ã‘â€ã¯ã€åŸºæœ¬ã¯CSS Modulesï¼ˆå±€æ‰€CSSï¼‰ã§ã‚„ã‚‹**ã®ãŒå®‰å…¨ã ã‚ˆğŸ«¶
å…¬å¼ã‚‚ã€Œã‚°ãƒ­ãƒ¼ãƒãƒ«ã¯æœ¬å½“ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªã‚‚ã®ã«ã—ã¦ã€å¿…è¦ãªã‚‰CSS Modulesã¸ã€ã£ã¦æ–¹é‡ã‚’å‡ºã—ã¦ã‚‹ã‚ˆğŸ“Œ ([Next.js][1])

### å›³ã§ã‚¹ã‚³ãƒ¼ãƒ—ã®é•ã„ğŸŒ±

```mermaid
flowchart LR
  A["globals.css ğŸŒï¼ˆå…¨ä½“ãƒ«ãƒ¼ãƒ«ï¼‰"] --> B["body / html / å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ"]
  C["xxx.module.css ğŸ§©ï¼ˆå±€æ‰€ãƒ«ãƒ¼ãƒ«ï¼‰"] --> D["ç‰¹å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ä¸€éƒ¨ç”»é¢ã ã‘"]
```

---

## ã¾ã¨ã‚âœ…ğŸ‰

* âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSã¯ **`app/globals.css`**ï¼ˆãªã©ï¼‰ã«ç½®ãğŸ“
* âœ… èª­ã¿è¾¼ã¿ã¯ **`app/layout.tsx`ï¼ˆRootLayoutï¼‰ã§import** ğŸ“¥ ([Next.js][1])
* âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«ã¯ã€Œæœ¬å½“ã«å…¨ä½“ã«å¿…è¦ãªã‚‚ã®ã€ã ã‘ã«ã—ã¦ã€**ä¸€éƒ¨ã ã‘ã¯CSS Modules**ã¸ğŸ«¶ ([Next.js][1])
* âœ… Pages Routerã®ã‚¨ãƒ©ãƒ¼æ–‡è¨€ãŒå‡ºãŸã‚‰ `pages/_app` ã®ãƒ«ãƒ¼ãƒ«ãªã®ã§åˆ‡ã‚Šåˆ†ã‘ã‚‹ğŸ§¯ ([Next.js][2])

[1]: https://nextjs.org/docs/app/getting-started/css "Getting Started: CSS | Next.js"
[2]: https://nextjs.org/docs/messages/css-global "Global CSS Must Be in Your Custom `<App>` | Next.js"
