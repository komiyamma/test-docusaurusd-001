# ç¬¬2ç« ï¼šã§ãã‚‹ã“ã¨ä¸€è¦§ï¼šãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°/SSR/SEO/APIã¾ã§ï¼ğŸ§°

ã“ã®ç« ã¯ã€Œæš—è¨˜ã€ã˜ã‚ƒãªãã¦ã€**Next.jsã«ã©ã‚“ãªâ€œé“å…·ç®±â€ãŒã‚ã‚‹ã‹**ã‚’çŸ¥ã‚‹å›ã ã‚ˆã€œï¼ğŸ˜ŠğŸª„
ã€Œã‚„ã‚ŠãŸã„ã“ã¨ã€ãŒå‡ºã¦ããŸæ™‚ã«ã€Œãã‚Œã€Next.jsãªã‚‰ã“ã†ã™ã‚‹ã‹ã‚‚ğŸ’¡ã€ã£ã¦æ€ãˆã‚‹ã®ãŒã‚´ãƒ¼ãƒ«âœ¨

---

## 1) Next.jsã®â€œã§ãã‚‹ã“ã¨â€ã‚’ã–ã£ãã‚Šä¸€æ°—è¦‹ğŸ‘€ğŸ’–

![Next.js Feature Map](./picture/next_study_002_feature_map.png)

### âœ… â‘  ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆç”»é¢ã‚’å¢—ã‚„ã™ï¼‰ğŸ›£ï¸

* ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã ã‘ã§ãƒšãƒ¼ã‚¸ãŒå¢—ãˆã‚‹ï¼ˆä¾‹ï¼š`/about` ã¨ã‹ï¼‰ğŸ“„âœ¨
* ç”»é¢é·ç§»ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºï¼ˆ`Link` ã§ç§»å‹•ï¼‰ğŸ”—

ï¼ˆApp RouterãŒåŸºæœ¬ã§ã€Reactã®æ–°ã—ã‚æ©Ÿèƒ½ã¨ã‚‚ç›¸æ€§ãŒã„ã„ã‚ˆã€œï¼‰ ([Next.js][1])

---

### âœ… â‘¡ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆè¡¨ç¤ºã®ã•ã‚Œæ–¹ã‚’é¸ã¹ã‚‹ï¼‰ğŸ§ ğŸŒˆ

Next.jsã¯ãƒšãƒ¼ã‚¸ã”ã¨ã«ã€Œä½œã‚Šæ–¹ã€ã‚’é¸ã¹ã‚‹æ„Ÿã˜ï¼

* **SSR**ï¼šã‚¢ã‚¯ã‚»ã‚¹ã®ãŸã³ã«ã‚µãƒ¼ãƒãƒ¼ã§ä½œã£ã¦è¿”ã™ï¼ˆé®®åº¦ã¤ã‚ˆã‚ï¼‰â™¨ï¸
* **SSG**ï¼šå…ˆã«ä½œã£ã¦ãŠã„ã¦é…ã‚‹ï¼ˆé«˜é€Ÿã¤ã‚ˆã‚ï¼‰âš¡
* **ISR**ï¼šåŸºæœ¬ã¯SSGã€ãŸã¾ã«æ›´æ–°ï¼ˆãƒãƒ©ãƒ³ã‚¹å‹ï¼‰ğŸ§ŠğŸ”

ISRã®è€ƒãˆæ–¹ã¯å…¬å¼ã‚¬ã‚¤ãƒ‰ã«ã¾ã¨ã¾ã£ã¦ã‚‹ã‚ˆğŸ“ ([Next.js][2])
SSRã®èª¬æ˜ã‚‚å…¬å¼ã«ã‚ã‚‹ã‚ˆğŸ§¾ ([Next.js][3])

---

### âœ… â‘¢ SEOï¼ˆæ¤œç´¢ãƒ»SNSã§â€œã¡ã‚ƒã‚“ã¨ã—ã¦è¦‹ãˆã‚‹â€ï¼‰ğŸ”ğŸ’–

* ã‚¿ã‚¤ãƒˆãƒ«ã‚„èª¬æ˜æ–‡ã€OGPãªã©ã‚’**Next.jsã®ä»•çµ„ã¿ã§æ•´ç†ã—ã¦è¨­å®š**ã§ãã‚‹âœ¨
* `metadata` ã‚„ `generateMetadata` ã§ãƒšãƒ¼ã‚¸ã”ã¨ã«å¤‰ãˆã‚‰ã‚Œã‚‹ğŸ§¡

å…¬å¼ï¼šMetadata/OGã¾ã‚ã‚Šã®å…¥é–€ãƒšãƒ¼ã‚¸ï¼†API ([Next.js][4])

---

### âœ… â‘£ APIï¼ˆã‚¢ãƒ—ãƒªã®ä¸­ã«â€œè‡ªåˆ†ã®APIâ€ã‚’ä½œã‚Œã‚‹ï¼‰ğŸšªğŸ§ª

* `app/api/.../route.ts` ã‚’ä½œã‚‹ã¨ **è‡ªå‰API** ãŒç”Ÿãˆã‚‹ğŸŒ±
* ã¡ã‚‡ã„DBã‚„ã€å¤–éƒ¨APIã®ä¸­ç¶™ã€ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã®å—ã‘å£ã«ã‚‚ä¾¿åˆ©ğŸ’Œ

å…¬å¼ï¼šRoute Handlersï¼ˆ`route.ts`ï¼‰ ([Next.js][5])

---

## 2) ä½•ã—ãŸã„ï¼Ÿâ†’ ã©ã®é“å…·ï¼Ÿã®æ—©è¦‹è¡¨ğŸ§­âœ¨

* ã€Œãƒšãƒ¼ã‚¸ã‚’å¢—ã‚„ã—ãŸã„ã€â†’ **Routing** ğŸ›£ï¸
* ã€Œæ¤œç´¢ã«ã¡ã‚ƒã‚“ã¨è¼‰ã£ã¦ã»ã—ã„ã€â†’ **Metadataï¼ˆSEOï¼‰** ğŸ”
* ã€Œè¡¨ç¤ºã‚’é€Ÿãã—ãŸã„ã€â†’ **SSG / ISR** âš¡ğŸ§Š
* ã€Œæœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’æ¯å›è¦‹ã›ãŸã„ã€â†’ **SSR** â™¨ï¸
* ã€Œãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰å©ã‘ã‚‹è‡ªåˆ†ã®APIãŒã»ã—ã„ã€â†’ **Route Handlers** ğŸšªğŸ§ª

---

## 3) å›³è§£â‘ ï¼šNext.jsã®æ©Ÿèƒ½ãƒãƒƒãƒ—ï¼ˆã“ã®ç« ã®å…¨ä½“åƒï¼‰ğŸ—ºï¸âœ¨

```mermaid
flowchart TD
  A["Next.js ã§ä½œã‚ŠãŸã„ã“ã¨ğŸ’­"] --> B["ãƒšãƒ¼ã‚¸ã‚’å¢—ã‚„ã™ğŸ›£ï¸ Routing"]
  A --> C["è¡¨ç¤ºã®ä½œã‚Šæ–¹ğŸ§  Rendering"]
  A --> D["æ¤œç´¢/SNSã«å¼·ãğŸ” SEO"]
  A --> E["ã‚¢ãƒ—ãƒªå†…APIğŸšª Route Handlers"]

  C --> C1["SSGâš¡ å…ˆã«ä½œã£ã¦é…ã‚‹"]
  C --> C2["SSRâ™¨ï¸ æ¯å›ã‚µãƒ¼ãƒãƒ¼ã§ä½œã‚‹"]
  C --> C3["ISRğŸ§ŠğŸ” ãŸã¾ã«æ›´æ–°"]

  D --> D1["metadatağŸ§¡"]
  D --> D2["generateMetadatağŸª„"]
  E --> E1["app/api/**/route.tsğŸ§ª"]
```

---

## 4) å›³è§£â‘¡ï¼šã€Œã‚„ã‚ŠãŸã„ï¼ã€ã‹ã‚‰æ©Ÿèƒ½ã‚’é¸ã¶ãƒŸãƒ‹è¨ºæ–­ğŸ¯ğŸ’¡

```mermaid
flowchart TD
  S["ã‚„ã‚ŠãŸã„ã“ã¨ã¯ï¼ŸğŸ˜Š"] --> Q1{"ãƒšãƒ¼ã‚¸ã‚’å¢—ã‚„ã™ï¼Ÿ"}
  Q1 -->|"Yes"| R1["app/ ã« page.tsx ã‚’ç½®ãğŸ“„"]
  Q1 -->|"No"| Q2{"æ¤œç´¢ã‚„SNSã®è¦‹ãˆæ–¹ãŒå¤§äº‹ï¼Ÿ"}
  Q2 -->|"Yes"| R2["metadata / generateMetadatağŸ”ğŸ§¡"]
  Q2 -->|"No"| Q3{"æ¯å›æœ€æ–°ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ï¼Ÿ"}
  Q3 -->|"Yes"| R3["SSRå¯„ã‚Šâ™¨ï¸"]
  Q3 -->|"No"| Q4{"ã§ãã‚‹ã ã‘é€Ÿãã—ãŸã„ï¼Ÿ"}
  Q4 -->|"Yes"| R4["SSG or ISRâš¡ğŸ§Š"]
  Q4 -->|"No"| Q5{"è‡ªåˆ†ã®APIãŒã»ã—ã„ï¼Ÿ"}
  Q5 -->|"Yes"| R5["Route HandlersğŸšªğŸ§ª"]
```

---

## 5) ãƒŸãƒ‹å®Ÿè£…ï¼ˆ10åˆ†ï¼‰ï¼šâ€œæœªæ¥ã®è‡ªåˆ†â€ã®ãŸã‚ã®3ç‚¹ã‚»ãƒƒãƒˆã‚’çœºã‚ã‚‹ğŸ‘€âœ¨

â€» ã¾ã ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå‰ã§ã‚‚OKï¼ã€Œã“ã†ã„ã†å½¢ã§ä½œã‚‹ã‚“ã ã€œã€ã£ã¦é›°å›²æ°—ã ã‘æ´ã‚ã°å‹ã¡ğŸ’–

### âœ… A) APIã®æœ€å°ä¾‹ï¼ˆRoute Handlerï¼‰ğŸšªğŸ§ª

```ts
// app/api/hello/route.ts
export async function GET() {
  return Response.json({ message: "Hello from Next.js API! ğŸ˜†" })
}
```

ã“ã®å½¢ã¯å…¬å¼ã®ä¾‹ãã®ã¾ã¾ç³»ã ã‚ˆã€œâœ¨ ([Next.js][5])

---

### âœ… B) SEOã®æœ€å°ä¾‹ï¼ˆmetadataï¼‰ğŸ”ğŸ§¡

```ts
// app/layout.tsx ã‹ app/page.tsx ãªã©
export const metadata = {
  title: "å­¦ç§‘ç´¹ä»‹ãƒŸãƒ‹ã‚µã‚¤ãƒˆğŸŒ¸",
  description: "Next.jsã®ç·´ç¿’ã ã‚ˆã€œï¼",
}
```

`metadata` / `generateMetadata` ã®è©±ã¯å…¬å¼ã«ã¾ã¨ã¾ã£ã¦ã‚‹ã‚ˆğŸ“˜ ([Next.js][4])

---

### âœ… C) ã€Œãƒšãƒ¼ã‚¸ãŒå¢—ãˆã‚‹ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ï¼‰ğŸ“„ğŸ›£ï¸

```txt
app/
  page.tsx          ->  /
  about/
    page.tsx        ->  /about
  api/
    hello/
      route.ts      ->  /api/hello
```

---

## 6) 3åˆ†ãµã‚Šã‹ãˆã‚Šï¼ˆã‚ã£ã¡ã‚ƒå¤§äº‹ğŸ«¶âœ¨ï¼‰

* ä»Šæ—¥ã®é“å…·ç®±ã§ã€**ã€Œä¸€ç•ªä½¿ã„ãã†ï¼ã€**ã£ã¦æ€ã£ãŸã®ã©ã‚Œï¼ŸğŸ§°ğŸ’­
* è‡ªåˆ†ã®ä½œã‚ŠãŸã„ã‚¢ãƒ—ãƒªã§ã€

  * ã€ŒSEOãŒå¤§äº‹ãªãƒšãƒ¼ã‚¸ã€ğŸ”
  * ã€Œé€Ÿã•å„ªå…ˆã®ãƒšãƒ¼ã‚¸ã€âš¡
  * ã€Œæ¯å›æœ€æ–°ãŒå¿…è¦ãªãƒšãƒ¼ã‚¸ã€â™¨ï¸
    ãã‚Œãã‚Œã©ã‚Œã«ãªã‚Šãã†ï¼Ÿâ˜ºï¸
* ã€ŒAPIã»ã—ã„ç¬é–“ã€ã£ã¦ã©ã‚“ãªæ™‚ï¼ŸğŸšªğŸ§ªï¼ˆä¾‹ï¼šãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã€å¤–éƒ¨APIã®ä¸­ç¶™ã€DBã‚¢ã‚¯ã‚»ã‚¹â€¦ï¼‰

---

## ã“ã®ç« ã®ã¾ã¨ã‚ğŸ€âœ¨

Next.jsã¯ **Reactã«ãƒ—ãƒ©ã‚¹ã—ã¦**ã€
ã€Œãƒšãƒ¼ã‚¸ã®å¢—ã‚„ã—æ–¹ğŸ›£ï¸ã€ã€Œè¡¨ç¤ºã®ä½œã‚Šæ–¹ğŸ§ ã€ã€ŒSEOğŸ”ã€ã€ŒAPIğŸšªã€ãŒ**æœ€åˆã‹ã‚‰æƒã£ã¦ã‚‹**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã ã‚ˆã€œï¼
æ¬¡ã®ç« ã‹ã‚‰ã€ã»ã‚“ã¨ã«æ‰‹ã‚’å‹•ã‹ã—ã¦ â€œä½¿ãˆã‚‹é“å…·â€ ã«ã—ã¦ã„ã“ã†ã­ğŸ˜†ğŸ’–

[1]: https://nextjs.org/docs?utm_source=chatgpt.com "Next.js Docs | Next.js"
[2]: https://nextjs.org/docs/app/guides/incremental-static-regeneration?utm_source=chatgpt.com "How to implement Incremental Static Regeneration (ISR)"
[3]: https://nextjs.org/docs/pages/building-your-application/rendering/server-side-rendering?utm_source=chatgpt.com "Server-side Rendering (SSR)"
[4]: https://nextjs.org/docs/app/getting-started/metadata-and-og-images?utm_source=chatgpt.com "Getting Started: Metadata and OG images"
[5]: https://nextjs.org/docs/app/api-reference/file-conventions/route?utm_source=chatgpt.com "File-system conventions: route.js"
