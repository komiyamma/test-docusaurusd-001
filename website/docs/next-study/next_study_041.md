# ç¬¬41ç« ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç½®ãå ´æ‰€ï¼š`app/` ã¨ `components/` ğŸ—‚ï¸

## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯

ã€Œã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ã©ã“ã«ç½®ã‘ã°ã„ã„ã®ã€œï¼ŸğŸ˜­ã€ã‚’å’æ¥­ã—ã¦ã€**è¿·å­ã«ãªã‚‰ãªã„ç½®ãå ´æ‰€ãƒ«ãƒ¼ãƒ«**ã‚’ä½œã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆã€œï¼ğŸ§­ğŸ’•

---

## ã¾ãšçµè«–ğŸŒŸï¼ˆè¶…ãŸã„ã›ã¤ï¼‰

* `app/` ã¯ **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆãƒšãƒ¼ã‚¸æ§‹é€ ï¼‰ä¸­å¿ƒã®å ´æ‰€** ğŸ›£ï¸
* `components/` ã¯ **ã„ã‚ã‚“ãªãƒšãƒ¼ã‚¸ã‹ã‚‰ä½¿ã„å›ã™éƒ¨å“ç½®ãå ´** ğŸ§©
* ãŸã ã— Next.js ã¯ã€Œã“ã†ã—ãªãã‚ƒãƒ€ãƒ¡ï¼ã€ã˜ã‚ƒãªãã¦ã€**ãƒãƒ¼ãƒ ï¼ˆã‚ãªãŸï¼‰ã«åˆã†å½¢ã‚’æ±ºã‚ã¦çµ±ä¸€**ãŒå¤§äº‹ã ã‚ˆã€œğŸ™†â€â™€ï¸âœ¨ ([Next.js][1])

> `app/` ã®ä¸­ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç½®ã„ã¦ã‚‚ã€**å‹æ‰‹ã«URLã«ãªã‚‰ãªã„**ã‹ã‚‰å®‰å¿ƒã—ã¦OKã ã‚ˆã€œğŸ«¶
> ãƒ«ãƒ¼ãƒˆã¨ã—ã¦å…¬é–‹ã•ã‚Œã‚‹ã®ã¯ã€åŸºæœ¬ **`page.*` ã‚„ `route.*` ã‚’ç½®ã„ãŸã¨ãã ã‘**ï¼ ([Next.js][2])

---

## ãªã‚“ã§æ‚©ã‚€ã®ï¼ŸğŸ˜µâ€ğŸ’«ï¼ˆNext.jsã®ç‰¹å¾´ï¼‰

Next.jsï¼ˆApp Routerï¼‰ã§ã¯ã€`app/` ã®ãƒ•ã‚©ãƒ«ãƒ€éšå±¤ãŒURLæ§‹é€ ã£ã½ãè¦‹ãˆã‚‹ã‚ˆã­ğŸ‘€
ã§ã‚‚å®Ÿã¯ã€**åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«éƒ¨å“ã‚’ç½®ã„ã¦ã‚‚ã€ãã‚Œã ã‘ã§ãƒ«ãƒ¼ãƒˆã«ã¯ãªã‚‰ãªã„**ã‚“ã ã€œï¼âœ¨ ([Next.js][2])

---

## ç½®ãå ´æ‰€ã®æ±ºã‚æ–¹ãƒ•ãƒ­ãƒ¼ğŸ§ ğŸ’¡ï¼ˆã“ã‚Œã§ä¸€ç™ºï¼‰

![ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé…ç½®ãƒ•ãƒ­ãƒ¼](./picture/next_study_041_component_placement.png)

ã€Œä½•å›ä½¿ã†ï¼Ÿã€ã§æ±ºã‚ã‚‹ã®ãŒä¸€ç•ªãƒ©ã‚¯ã ã‚ˆã€œğŸ˜†ğŸ€

```mermaid
flowchart TD
  A["æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œã£ãŸï¼ğŸ‰"] --> B{"è¤‡æ•°ã®ãƒšãƒ¼ã‚¸/æ©Ÿèƒ½ã§ä½¿ã†ï¼ŸğŸ§©"}
  B -->|"ã¯ã„ï¼ãŸãã•ã‚“ä½¿ã†"| C["components/ ã«ç½®ãğŸ“¦"]
  B -->|"ã„ã„ãˆã€ãã®ãƒ«ãƒ¼ãƒˆã ã‘"| D["app/ ã®ãã®ãƒ«ãƒ¼ãƒˆè¿‘ãã«ç½®ãğŸ“Œ"]
  D --> E{"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«é–¢ä¿‚ãªã„å†…éƒ¨å®Ÿè£…ï¼ŸğŸ¤«"}
  E -->|"ã¯ã„"| F["app/é…ä¸‹ã§ _private ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã‚‹ğŸ«¥"]
  E -->|"ã„ã„ãˆ"| G["ãã®ã¾ã¾ colocateï¼ˆè¿‘ãã«ç½®ãï¼‰ã§OKğŸ«¶"]
```

`_private`ï¼ˆã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ï¼‰ã‚’ä»˜ã‘ãŸãƒ•ã‚©ãƒ«ãƒ€ã¯ **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¯¾è±¡ã‹ã‚‰å¤–ã‚Œã‚‹**ã‹ã‚‰ã€ã€Œã“ã“ã¯å†…éƒ¨å®Ÿè£…ã ã‚ˆï¼ã€ã£ã¦å®£è¨€ã§ãã‚‹ã‚ˆã€œğŸ¤«âœ¨ ([Next.js][2])

---

## å®Ÿä¾‹ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚ˆã€œğŸ“âœ¨ï¼ˆãŠã™ã™ã‚æ§‹æˆ 2ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

### ãƒ‘ã‚¿ãƒ¼ãƒ³Aï¼šãƒ«ãƒ¼ãƒˆã®è¿‘ãã«ç½®ãï¼ˆcolocateå‹ï¼‰ğŸ“Œ

ã€Œãã®ãƒšãƒ¼ã‚¸å°‚ç”¨ã®éƒ¨å“ã€ã¯ã€è¿‘ãã«ç½®ãã¨è¦‹ã¤ã‘ã‚„ã™ã„ã‚ˆã€œğŸ‘€ğŸ’•

```text
app/
  profile/
    page.tsx
    ProfileCard.tsx      â† ã“ã®ãƒšãƒ¼ã‚¸å°‚ç”¨âœ¨
    _components/
      Avatar.tsx         â† profileå†…ã ã‘ã§ä½¿ã†éƒ¨å“ğŸ¤«
```

* `ProfileCard.tsx` ã¯ `/profile` ã®ãŸã‚ã ã‘
* `_components/` ã¯ã€Œå†…éƒ¨å®Ÿè£…ã ã‚ˆã€ã£ã¦åˆ†ã‹ã‚Šã‚„ã™ã„ï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‹ã‚‰å¤–ã‚Œã‚‹ï¼‰âœ¨ ([Next.js][2])

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³Bï¼šå…±æœ‰éƒ¨å“ã¯ `components/` ã«é›†ã‚ã‚‹ğŸ§©

ã€Œã©ã®ãƒšãƒ¼ã‚¸ã§ã‚‚ä½¿ã†ãƒœã‚¿ãƒ³ã€ã€Œãƒ˜ãƒƒãƒ€ãƒ¼ã€ã€Œã‚«ãƒ¼ãƒ‰ã€ã¿ãŸã„ãªã®ã¯ã“ã“ãŒæ°—æŒã¡ã„ã„ã€œğŸ¥°

```text
app/
  page.tsx
  about/
    page.tsx

components/
  ui/
    Button.tsx
    Card.tsx
  layout/
    Header.tsx
    Footer.tsx
```

Next.jsã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚ã€`app`ãƒ»`pages`ãƒ»`public`ãƒ»`src` ã¿ãŸã„ã«ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã‚’åˆ†ã‘ã¦æ•´ç†ã™ã‚‹è€ƒãˆæ–¹ãŒç´¹ä»‹ã•ã‚Œã¦ã‚‹ã‚ˆã€œğŸ“šâœ¨ ([Next.js][3])

---

## importãŒåœ°ç„ã«ãªã‚‰ãªã„ã‚³ãƒ„ğŸ§µâœ¨ï¼ˆè¶…åŠ©ã‹ã‚‹ã‚„ã¤ï¼‰

æ·±ã„éšå±¤ã‹ã‚‰ `../../../components/...` ã¿ãŸã„ã«ãªã‚‹ã¨ãƒ„ãƒ©ã„ã‚ˆã­ğŸ˜­
ãã“ã§ **`@/components/...`** ã¿ãŸã„ã«æ›¸ã‘ã‚‹ã¨ã‚¹ãƒƒã‚­ãƒªã€œï¼ğŸ§¼âœ¨ ([Next.js][1])

ä¾‹ï¼š

```ts
import { Button } from "@/components/ui/Button";
```

---

## ã‚ˆãã‚ã‚‹ãƒãƒã‚ŠğŸŒªï¸ï¼ˆå…ˆã«å›é¿ã—ã‚ˆï¼‰

* **å…¨éƒ¨ `components/` ã«çªã£è¾¼ã‚€** â†’ 200å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«åšç‰©é¤¨ã«ãªã£ã¦è¿·å­ğŸ˜­
  â†’ `ui/` `layout/` `features/` ã¿ãŸã„ã«ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã‚ˆã€œğŸ“¦âœ¨
* **ãƒšãƒ¼ã‚¸å°‚ç”¨ãªã®ã«å…±æœ‰ç½®ãå ´ã¸** â†’ ã€Œã“ã‚Œæœ¬å½“ã«å…±æœ‰â€¦ï¼Ÿã€ã£ã¦æ··ä¹±ğŸ˜µâ€ğŸ’«
  â†’ å°‚ç”¨ãªã‚‰ `app/ãã®ãƒ«ãƒ¼ãƒˆã®è¿‘ã` ãŒæ­£ç¾©ğŸ“Œ
* **`app/` ã®ä¸­ãŒURLã«è¦‹ãˆã¦æ€–ã„** â†’ `page.*` ãŒç„¡ã„é™ã‚Šå…¬é–‹ã•ã‚Œãªã„ã‹ã‚‰å¤§ä¸ˆå¤«ğŸ«¶ ([Next.js][2])

---

## ãƒŸãƒ‹æ¼”ç¿’ğŸ®âœ¨ï¼ˆ5åˆ†ã§ã§ãã‚‹ï¼ï¼‰

ã€Œå…±æœ‰ãƒœã‚¿ãƒ³ã€ã¨ã€Œãƒšãƒ¼ã‚¸å°‚ç”¨ã‚«ãƒ¼ãƒ‰ã€ã‚’åˆ†ã‘ã¦ã¿ã‚ˆã€œï¼ğŸ’ªğŸ’•

### 1) å…±æœ‰ãƒœã‚¿ãƒ³ã‚’ä½œã‚‹ğŸ§©

`components/ui/Button.tsx`

```tsx
type Props = {
  children: React.ReactNode;
  onClick?: () => void;
};

export function Button({ children, onClick }: Props) {
  return (
    <button
      onClick={onClick}
      style={{
        padding: "8px 12px",
        borderRadius: 10,
        border: "1px solid #ccc",
        background: "white",
        cursor: "pointer",
      }}
    >
      {children}
    </button>
  );
}
```

### 2) `app/profile` å°‚ç”¨ã®ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹ğŸ“Œ

`app/profile/ProfileCard.tsx`

```tsx
export function ProfileCard() {
  return (
    <section style={{ border: "1px solid #eee", padding: 12, borderRadius: 12 }}>
      <h2 style={{ margin: 0 }}>ã•ãã‚‰ã•ã‚“ğŸŒ¸</h2>
      <p style={{ margin: "6px 0 0" }}>æƒ…å ±å­¦éƒ¨ / 2å¹´</p>
    </section>
  );
}
```

### 3) `app/profile/page.tsx` ã§ä½¿ã†ğŸ€

```tsx
import { Button } from "@/components/ui/Button";
import { ProfileCard } from "./ProfileCard";

export default function Page() {
  return (
    <main style={{ display: "grid", gap: 12, padding: 16 }}>
      <ProfileCard />
      <Button onClick={() => alert("ã‚„ã£ãŸã€œï¼ğŸ‰")}>æŠ¼ã—ã¦ã¿ã¦ğŸ’–</Button>
    </main>
  );
}
```

---

## ã¾ã¨ã‚ğŸ§¸ğŸ’—ï¼ˆä»Šæ—¥ã®åˆè¨€è‘‰ï¼‰

* **å…±æœ‰ = `components/`** ğŸ§©
* **å°‚ç”¨ = `app/` ã®è¿‘ã** ğŸ“Œ
* **å†…éƒ¨å®Ÿè£…ã ã‚ˆ = `_private`ï¼ˆ`_components` ãªã©ï¼‰** ğŸ¤«âœ¨ ([Next.js][2])
* **è¿·ã£ãŸã‚‰ã€Œä½•å›ä½¿ã†ï¼Ÿã€ã§æ±ºã‚ã‚‹** ğŸ¯

æ¬¡ã®ç« ï¼ˆç¬¬42ç« ï¼‰ã§ã€Œè¦‹ãŸç›®ã€ã¨ã€Œãƒ­ã‚¸ãƒƒã‚¯ã€ã‚’åˆ†ã‘ã‚‹ã¨ã€ã•ã‚‰ã«ã‚¹ãƒƒã‚­ãƒªã—ã¦æ°—æŒã¡ã‚ˆããªã‚‹ã‚ˆã€œğŸ«¶âœ¨

[1]: https://nextjs.org/docs/14/app/building-your-application/routing/colocation "Routing: Project Organization | Next.js"
[2]: https://nextjs.org/docs/13/app/building-your-application/routing/colocation "Routing: Project Organization | Next.js"
[3]: https://nextjs.org/docs/app/getting-started/project-structure "Getting Started: Project Structure | Next.js"
